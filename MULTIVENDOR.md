# Мультивендорность и авторизация

## Структура

- **Цех (Workshop)** — склад/цех. Товары и поставки привязаны к цеху.
- **WorkshopAssignment** — у каждого пользователя привязка к одному складу. Настраивается в Django Admin.
- **Supply.created_by** — пользователь, создавший поставку/отгрузку.

## Настройка пользователя и склада

### Через Django Admin
1. Откройте `/admin/`
2. Пользователи → выберите пользователя
3. В блоке «Профиль (склад)» выберите склад из выпадающего списка

### Через команду
```bash
# Создать пользователя и привязать к складу
python manage.py setup_user admin --password admin123 --create

# Привязать существующего пользователя
python manage.py setup_user existing_user
```

## API

- `POST /api/auth/login/` — вход (username, password). Возвращает access token и склад пользователя.
- Все запросы требуют заголовок: `Authorization: Bearer <token>`
- Склад берётся из профиля пользователя автоматически.
